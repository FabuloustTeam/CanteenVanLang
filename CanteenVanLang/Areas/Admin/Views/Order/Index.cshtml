@model IEnumerable<CanteenVanLang.Models.ORDER>
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}


<div class="col-lg-12">
    <div class="grid">
        <p class="grid-header">Danh sách đơn đặt hàng</p>
        <a href="@Url.Action("Create", "Order")" style="float: right; margin-right: 40px">
            <button type="button" class="btn btn-sm btn-primary">Thêm đơn đặt hàng</button>
        </a>

        <div class="item-wrapper">
            <div class="table-responsive">
                <table class="table" id="food-table">
                    <thead>
                        <tr>
                            <th>
                                Mã đơn đặt hàng
                            </th>
                            <th>
                                Khách hàng
                            </th>
                            <th>
                                Nhân viên
                            </th>
                            <th>
                                Ngày mua
                            </th>
                            <th>
                                Trạng thái
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @item.ORDER_CODE
                                </td>
                                <td>
                                    @item.CUSTOMER.FULLNAME
                                </td>
                                <td>
                                    @if (item.ACCOUNT != null)
                                    {
                                        @item.ACCOUNT.FULLNAME
                                    }
                                </td>
                                <td>
                                    @item.DATE
                                </td>
                                <td>
                                    @if (item.STATUS == 1)
                                    {
                                        <label class="badge badge-info">Chưa dùng</label>
                                    }
                                    else if (item.STATUS == 2)
                                    {
                                        <label class="badge badge-success">Đã thanh toán</label>
                                    }
                                    else if (item.STATUS == 3)
                                    {
                                        <label class="badge badge-dark">Hết hạn</label>
                                    }
                                    else if (item.STATUS == 4)
                                    {
                                        <label class="badge badge-danger">Hủy</label>
                                    }
                                </td>
                                <td>
                                    <form action="#" style="display:inline" target="_blank">
                                        <button type="submit" class="btn action-btn btn-like btn-outline-danger btn-rounded">
                                            <i class="mdi mdi-lead-pencil"></i>
                                        </button>
                                    </form>
                                    <button onclick="Remove(this, @item.ID)" class="btn action-btn btn-outline-primary btn-rounded">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <form action="@Url.Action("Print", "Order", new { id = item.ID })" style="display:inline" target="_blank">
                                        <button type="submit" class="btn action-btn btn-outline-warning btn-rounded">
                                            <i class="mdi mdi-printer"></i>
                                        </button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script>
        $(document).ready(function () {
            $("#inlineFormInputGroup").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#food-table tbody tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
}
